<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE  mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.sun.micro.mapper.BlogMapper">
	<delete id="delete" parameterType="java.lang.Integer">
	<![CDATA[
	delete from TB_BLG_CONT
	where
	BLG_CONT_SEQ = #{BLG_CONT_SEQ}
	]]>
	</delete>
	
	<!-- 목록 쿼리 DB에 컬럼명이 대부분 어퍼케이스[완죤 대문자] 뱀케이스[예_니_킴]로 되어 있어서 자동 매피잉 안될수 잇어서
	그래서 명시적으로 어떤 컬럼 -> 어떤 필드를 매핑할지 지정해 줍니다
	자동매핑은 편하지만 컬럼명과 필드명이 다르면 매핑이 실패 할수 있습니다
	-->
	<resultMap id="selectListResultMap" type="com.sun.micro.vo.BlogListResponseVO">
<result column="BLG_CONT_SEQ" property="blgContSeq" jdbcType="INTEGER" javaType="int"/>
<result column="TITLE" property="title" jdbcType="NVARCHAR" javaType="String"/>
<result column="CONT_BDY" property="contBdy" jdbcType="CLOB" javaType="String"/>
<result column="INSERT_DT" property="insertDt" jdbcType="TIMESTAMP" javaType="java.time.LocalDateTime"/>
	</resultMap>
	
<select id="selectList" parameterType="com.sun.micro.vo.BlogListRequestVO" resultMap="selectListResultMap">
<![CDATA[
select 
BLG_CONT_SEQ, TITLE, CONT_BDY, INSERT_DT
from
TB_BLG_CONT WHERE 1 = 1
]]>
<if test="search != null">
AND(TITLE LIKE '%' || #{search} ||'%' OR CONT_BDY LIKE '%' || #{search} || '%')
</if>
<!-- 
검색어% => 검색어로 시작하는 데이터를 찾습니다
%검색어 => 검색어로 끝나는 데이터를 찾습니다
%검색어% => 검색어가 포함된 데이터를 찾습니다
 -->
</select>
	
	
	
	
	
	
</mapper>